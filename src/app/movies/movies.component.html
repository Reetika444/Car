
<div style="width:100%;height:100%;">

<div class="row btn1">
  <div class="col-md-7">

  </div>
  <div class="col-md-3 ">
    <input type="text" class="form-control" placeholder="Search" name="search" [(ngModel)]="search"/>
    <!-- {{search}} -->
  </div>
  <div class="col-md-2">
  <button  class="btn btn-primary" (click)=LogOut()>Log Out</button>
  </div>
</div>

<div style="border:5px solid; margin-top:25px;">
 
 
<table class="table"> 
  <thead> 
    <tr class="color">
     
      <!-- <th scope="col">Id</th> -->
      <th style="padding-left:40px;" class="tablehead" scope="col">Movies</th>
      <!-- <th scope="col"></th> -->
      <th class="table1data" class="tablehead" scope="col">Seats Available</th> 
      <th class="table1data" class="tablehead" scope="col">Theatre Number</th>
      <th class="tablehead">Action</th>
     </tr>
   </thead> 
   <tbody class="body"> 
    <!-- <tr *ngFor="let moviearray of dataArr">
      <tr>
       <td>{{moviearray.id}}</td> 
      <td>{{moviearray.movie_name}}</td> 
      <td>{{moviearray.seats_available}}</td>
      <td>{{moviearray.theater_number}}</td>
    </tr> -->

    <ng-container *ngFor="let moviearray of dataArr | search:search">
      <tr class="color1">
          <!-- <td>{{moviearray.id}}</td> -->
          <td  class="movietitle"> <img class="mimage"  src="../assets/{{moviearray.movieimage}}"><br>{{moviearray.movie_name}}</td>
          <!-- <td><img class="mimage"  src="../assets/{{moviearray.movieimage}}"></td> -->
          <!-- <img src="../assets/images/logo.png"> -->
          <!-- <td><img class="mimage" src="../assets/dhamaal.jpg"></td> -->
          <td  class="tabledata"> {{moviearray.seats_available}}</td>
          <td  class=" tabledata">{{moviearray.theatre_number}}</td>
          <td  ><button type="button" style="margin-top:53px;" class="btn btn-danger" (click)="bookMovie(moviearray.id,moviearray.seats_available,moviearray.movie_name,moviearray.theatre_number)"  data-toggle="modal" data-target="#myModal">Book</button>
          <!-- <td><button  style="margin-top:53px;" (click)="bookMovie(moviearray.id,moviearray.seats_available)" (click)="showModal=true" type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
           Book
          </button> -->
          </td>
      </tr>
      <div class="modal" id="myModal" [ngClass]="{'show':showModal}">
        <div class="modal-dialog">
          <div class="modal-content">
      
           
            <div class="modal-header">
              <h4 class="modal-title">Registration Details</h4>
              <button type="button" class="close" (click)="showModal=false" data-dismiss="modal">&times;</button>
            </div>
      
           
            <div class="modal-body">
              Your seat is successfully booked for  <span style="font-weight: bold">{{moviename}}</span> <br>
              Seat number: <span style="font-weight: bold">{{randomvalue}}</span> <br> Theatre number: <span style="font-weight: bold">{{theater_number}}</span>.
              <!-- Movie is successfully booked.
              Math.floor((Math.random() * 10) + 1); -->
            </div>
      
           
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" (click)="showModal=false" data-dismiss="modal">Close</button>
            </div>
      
          </div>
        </div>
      </div>
      
  </ng-container>
   
  </tbody>
</table>
</div>

</div>

<ngx-spinner></ngx-spinner>

<!-- <div class="modal" id="myModal" [ngClass]="{'show':showModal}">
  <div class="modal-dialog">
    <div class="modal-content">

     
      <div class="modal-header">
        <h4 class="modal-title">Movie Details</h4>
        <button type="button" class="close" (click)="showModal=false" data-dismiss="modal">&times;</button>
      </div>

     
      <div class="modal-body">
         Movie is successfully booked.
      </div>

     
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="showModal=false" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div> -->

